## 电梯难题：轨道电梯

### 问题：
电梯正常情况下可以并排一次同行2人，假设速度为2人/s；
但由于早晚高峰时，有些人因为要赶路，渐渐的大家开始分为2通道，一侧为快速通道，大家会走着通过，假设速度为2人/s；
一侧还是站立通道，假设速度为1人/s ；这样也就是产生了2种通过电梯的策略：
策略1：同时2人，上电梯不加速
策略2：1侧加速，1侧不加速正常上电梯，
我比较好奇，到底那种策略可以更快的通过电梯？
于是我就通过模型,粗略计算了一下那种策略更优

### 前提条件
我自行通过了测量电梯，静止通过的时长大约为走路通过时长的2倍；
所以这里假设了 加速时的速度为站立时速度的2倍
1. 现实下加速速度为多少  2倍
2. 现实中参与比例为多少  30%左右

### 思路1：求人数固定下，耗时最短的策略
策略1：为2倍速，直接求时间

策略2：根据人员可能比率，简单粗暴的计算出总速度，计算出时间

得出结果：
```
并行耗时 比率：1.00，速度：1.0，耗时：50.0
加速耗时 比率：0.30，速度：4.5，耗时：48.8
加速耗时 比率：0.40，速度：4.0，耗时：45.5
加速耗时 比率：0.50，速度：3.5，耗时：44.4
加速耗时 比率：0.90，速度：3.0，耗时：35.7
```
根据这个结果发现
> 策略2:在线下加速比率为30%参与时，速度要4.5倍才可以更优；
否则都是策略1更优；有点奇怪

后面我发现，这思路有个问题就是
1. 假设了所有加速的人和不加速的人，分开2侧，都已经排好了队
2. 以最后一人通过的节点来判断了通过时间；也就是最后一个不加速的人通过的时间
这不符合常理；所以我又想那不计算多少时间通过，计算不同策略下的运载量不就行了，于是进行了思路2的操作

### 思路2：计算在固定时间下的运载量，求运载量大的策略
策略1： 为2倍速时，根据时长计算出运载量

策略2：根据人员可能比率，简单粗暴的计算出总速度，根据时长计算出运载量

结果如下：
```
并行耗时 比率：1.00，速度：1.0，运载量：60.0
加速耗时 比率：0.10，速度：2.0，运载量：66.0，倍率：0.10
加速耗时 比率：0.20，速度：2.0，运载量：72.0，倍率：0.20
加速耗时 比率：0.30，速度：2.0，运载量：78.0，倍率：0.30
加速耗时 比率：0.40，速度：2.0，运载量：84.0，倍率：0.40
加速耗时 比率：0.50，速度：2.0，运载量：90.0，倍率：0.50
```
根据这个结果发现：
> 策略2，只要10%人参与，就能比 策略1的运载量大

这个和思路1的结果，差距很大；我想这肯定又有问题
1. 仍然假设的是所有加速的人和不加速的人，分开2侧，都已经排好了队

这个不符合现实，这样算出来的运载量只是最好的情况，而不是正常情况；
正常情况下肯定不会竟然有序，而是混着加速和不加速的人，
而且不加速的人比例高的话，还会挡着通道，导致加速的人上不去；
所以我又采用了思路3

### 思路3，人员随机分布，计算固定时间下的运载量
策略1：为2倍速时，根据时长计算出对应的运载量

策略2：
1. 加速人员根据比例随机分布
2. 思考出7种上电梯模型，根据模型计算，对应时长下的运载量
3. 计算不同比率加速人群下的运载量

结果见图：

根据这个结果发现，
> 策略2，在56%的人员有意愿加速时，基本和策略1的 持平； 如果小于56%的人，则不如策略1好；

可能还有缺陷，但先到这里吧